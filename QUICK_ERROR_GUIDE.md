# 🚨 오류 확인 빠른 가이드

## 📍 오류 확인 3단계

### 1️⃣ UI 화면에서 확인 (가장 중요!)

```
┌─────────────────────────────────────────┐
│  ✅ 파일이 성공적으로 업로드되었습니다!     │
│                                         │
│  ⚠️ 데이터 검증 결과 (확인 필요) ▼      │  ← 이 부분 클릭!
│  ┌───────────────────────────────────┐ │
│  │ ⚠️ '마마' 상가에 '벨로' 2번 중복   │ │  ← 빨간 박스 = 에러
│  │                                   │ │
│  │ 📋 중복된 상호명 발견:             │ │  ← 노란 박스 = 경고
│  │    • '벨로': 2번                  │ │
│  └───────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

**확인 위치**: 파일 업로드 직후 화면 상단

---

### 2️⃣ 정렬 후 확인

```
[🔄 데이터 정렬 및 PDF 생성] ← 버튼 클릭
         ↓
    처리 중...
         ↓
┌─────────────────────────────────────────┐
│  ❌ 데이터 무결성 검증 실패!              │  ← 오류 메시지
│                                         │
│  • 상호 '벨로': 결과금액과 원본금액 불일치  │
└─────────────────────────────────────────┘
```

**확인 위치**: "데이터 정렬 및 PDF 생성" 버튼 클릭 후

---

### 3️⃣ 터미널 확인 (고급)

```
터미널/명령 프롬프트 (Streamlit 실행 창)
─────────────────────────────────────
  You can now view your Streamlit app...
  
  ✓ 정상 로그들...
  ✓ 정상 로그들...
  
  ❌ Traceback (most recent call last):  ← 오류 발생!
     File "app.py", line 123...
     FileNotFoundError: number.xlsm
  ────────────────────────────────────
           ↑
     가장 아래 오류 확인
```

**확인 위치**: Streamlit을 실행한 터미널 창

---

## 🎨 색상으로 오류 구분

### 🔴 빨간색 = 에러 (반드시 수정!)
```
❌ 데이터 무결성 검증 실패!
❌ '마마' 상가에 '벨로' 상호가 2번 중복
❌ 금액이 음수인 항목 발견
```
→ **엑셀 파일을 수정해야 합니다**

### 🟡 노란색 = 경고 (확인 필요)
```
⚠️ 데이터 검증 결과 (확인 필요)
📋 중복된 상호명 발견
💰 금액이 0원인 항목 발견
```
→ **확인 후 문제없으면 진행 가능**

### 🔵 파란색 = 정보
```
ℹ️ 총 100개의 행이 정렬되었습니다
💡 같은 상호명이 여러 상가에 있을 수 있습니다
```
→ **참고만 하세요**

---

## ⚡ 자주 발생하는 오류 TOP 5

### 1️⃣ 같은 상가에 같은 상호 중복
```
⚠️ '마마' 상가에 '벨로' 상호가 2번 중복
```
**해결**: 엑셀에서 중복 찾아서 삭제 또는 구분

---

### 2️⃣ 필수 컬럼 없음
```
❌ 업로드된 파일에서 '상호' 컬럼을 찾을 수 없습니다
```
**해결**: 엑셀 첫 행에 '상가', '상호', '금액' 컬럼 확인

---

### 3️⃣ number.xlsm 파일 없음
```
❌ number.xlsm 파일을 찾을 수 없습니다
```
**해결**: `number.xlsm` 파일이 `app.py`와 같은 폴더에 있는지 확인

---

### 4️⃣ 데이터 무결성 실패
```
❌ 데이터 무결성 검증 실패!
```
**해결**: 
1. 브라우저 새로고침 (F5)
2. 파일 다시 업로드
3. 앱 재시작

---

### 5️⃣ 금액 0원 또는 음수
```
💰 금액이 0원인 항목 5개 발견
❌ 금액이 음수인 항목 발견
```
**해결**: 엑셀에서 금액 확인 및 수정

---

## 🛠️ 문제 해결 순서

```
1. UI 화면 확인
   ↓ 오류 있음?
   
2. 오류 메시지 읽기
   ↓ 무슨 오류?
   
3. 엑셀 파일 확인/수정
   ↓
   
4. 브라우저 새로고침 (F5)
   ↓
   
5. 파일 다시 업로드
   ↓ 여전히 오류?
   
6. 앱 재시작
   ↓ 여전히 오류?
   
7. 터미널 로그 확인
   ↓
   
8. 개발자에게 문의
   (스크린샷 + 엑셀 파일 첨부)
```

---

## 📋 오류 발생 시 체크리스트

### 즉시 확인할 것:
- [ ] UI에 빨간색/노란색 메시지가 있나?
- [ ] 오류 메시지를 읽었나?
- [ ] 엑셀 파일에 문제가 있나?

### 시도해볼 것:
- [ ] 브라우저 새로고침 (F5)
- [ ] 파일 다시 업로드
- [ ] 앱 재시작 (터미널에서 Ctrl+C → `streamlit run app.py`)
- [ ] 터미널 로그 확인

### 도움 요청 시 준비할 것:
- [ ] 오류 메시지 스크린샷 (UI)
- [ ] 터미널 로그 스크린샷
- [ ] 엑셀 파일 (민감 정보 제거)
- [ ] 어떤 단계에서 오류 발생했는지

---

## 💡 팁: 오류 예방하기

### 엑셀 파일 작성 시:
✅ 첫 행에 헤더 (상가, 상호, 금액)  
✅ 상호명 정확히 입력 (띄어쓰기, 오타 주의)  
✅ 같은 상가에 같은 상호 중복 금지  
✅ 금액은 양수만  
✅ 파일 저장 후 닫기  

### 앱 사용 시:
✅ 파일 업로드 후 검증 결과 확인  
✅ 정렬된 데이터 미리보기로 확인  
✅ PDF 다운로드 후 내용 확인  

---

## 📞 도움이 필요하면?

**GitHub Issues**: https://github.com/jihun2da/envelope-printing-system/issues

**첨부할 것**:
1. 오류 메시지 스크린샷
2. 터미널 로그
3. 엑셀 파일 (샘플)

---

**빠른 참조용 - 자세한 내용은 ERROR_GUIDE.md 참조**
